package com.eg.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;

import com.eg.binding.CoResponse;
import com.eg.entity.CoTriggerEntity;
import com.eg.repository.CoTriggerRepository;
import com.eg.repository.EligDtlsRepository;

public class CoServiceImpl implements CoService{
//we are using batch processing for that 
	@Autowired
	private CoTriggerRepository coTrgRepo;
	@Autowired
	private EligDtlsRepository eligRepo;
	
	@Override
	public CoResponse processPendingTriggers() {
		//fetch all the pending triggers
		List<CoTriggerEntity> pendingTrgs = coTrgRepo.findByTrgStatus("pending");
		
		//process each pending triggers
		 
				//get eligibility data based on caseNum
				//get citizen data based on case num 
				//generate pdf with elig details
				//send pdf to citizen mail
				//store the pdf & set the triggers as completed
		
		
		//return summary 
		
		return null;
	}
	

}
